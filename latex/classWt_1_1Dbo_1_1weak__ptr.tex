\hypertarget{classWt_1_1Dbo_1_1weak__ptr}{}\doxysection{Wt\+::Dbo\+::weak\+\_\+ptr Class Reference}
\label{classWt_1_1Dbo_1_1weak__ptr}\index{Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}}


A weak pointer for a database object.  




{\ttfamily \#include $<$Wt/\+Dbo/weak\+\_\+ptr.\+h$>$}



Collaboration diagram for Wt\+::Dbo\+::weak\+\_\+ptr\+:
% FIG 0
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_1_1accessor}{accessor}}
\item 
class \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_1_1mutator}{mutator}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a265263764974344b070e198f1726c891}\label{classWt_1_1Dbo_1_1weak__ptr_a265263764974344b070e198f1726c891}} 
typedef C {\bfseries pointed}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_a5830deaafebce2dc453956b99b94281b}{weak\+\_\+ptr}} ()
\begin{DoxyCompactList}\small\item\em Creates a new weak pointer. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a03e7180764b62d73309971553952736e}\label{classWt_1_1Dbo_1_1weak__ptr_a03e7180764b62d73309971553952736e}} 
\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_a03e7180764b62d73309971553952736e}{weak\+\_\+ptr}} (const \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ C $>$ \&other)
\begin{DoxyCompactList}\small\item\em Copy constructor. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_aa8b49ffa3fa42fefdf10835ac08e7994}\label{classWt_1_1Dbo_1_1weak__ptr_aa8b49ffa3fa42fefdf10835ac08e7994}} 
{\footnotesize template$<$class D , class  = typename std\+::enable\+\_\+if$<$std\+::is\+\_\+same$<$\+Mut\+C,\+D$>$\+::value$>$\+::type$>$ }\\{\bfseries weak\+\_\+ptr} (const \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ D $>$ \&other)
\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_ab755c3791bca4680c3e6454f079ac477}\label{classWt_1_1Dbo_1_1weak__ptr_ab755c3791bca4680c3e6454f079ac477}} 
\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_ab755c3791bca4680c3e6454f079ac477}{weak\+\_\+ptr}} (\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ C $>$ \&\&other) noexcept
\begin{DoxyCompactList}\small\item\em Move constructor. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a3d30d244497d587a1e5ebce7635cc084}\label{classWt_1_1Dbo_1_1weak__ptr_a3d30d244497d587a1e5ebce7635cc084}} 
{\footnotesize template$<$class D , class  = typename std\+::enable\+\_\+if$<$std\+::is\+\_\+same$<$\+Mut\+C,\+D$>$\+::value$>$\+::type$>$ }\\{\bfseries weak\+\_\+ptr} (\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ D $>$ \&\&other) noexcept
\item 
void \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_abe38689ff11f3d4b73b34b515b1175b8}{reset}} (C $\ast$obj=0)
\begin{DoxyCompactList}\small\item\em Sets the value. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ C $>$ \& \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_a9f8ff78c10a70d62cb69c2357dfc0ca2}{operator=}} (const \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ C $>$ \&other)
\begin{DoxyCompactList}\small\item\em Copy assignment operator. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a68977ed3276ddae53b84da05fc283be7}\label{classWt_1_1Dbo_1_1weak__ptr_a68977ed3276ddae53b84da05fc283be7}} 
{\footnotesize template$<$class D , class  = typename std\+::enable\+\_\+if$<$std\+::is\+\_\+same$<$\+Mut\+C,\+D$>$\+::value$>$\+::type$>$ }\\\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ C $>$ \& {\bfseries operator=} (const \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ D $>$ \&other)
\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a41b15065678c877595088bd9236009f2}\label{classWt_1_1Dbo_1_1weak__ptr_a41b15065678c877595088bd9236009f2}} 
\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ C $>$ \& \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_a41b15065678c877595088bd9236009f2}{operator=}} (\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ C $>$ \&\&other) noexcept
\begin{DoxyCompactList}\small\item\em Move assignment operator. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_affc3629209e7e5a778c20cf387130161}\label{classWt_1_1Dbo_1_1weak__ptr_affc3629209e7e5a778c20cf387130161}} 
{\footnotesize template$<$class D , class  = typename std\+::enable\+\_\+if$<$std\+::is\+\_\+same$<$\+Mut\+C,\+D$>$\+::value$>$\+::type$>$ }\\\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ C $>$ \& {\bfseries operator=} (\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ D $>$ \&\&other) noexcept
\item 
\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ C $>$ \& \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_a27782164182883bc260bbf7a8307942f}{operator=}} (const \mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{ptr}}$<$ C $>$ \&other)
\begin{DoxyCompactList}\small\item\em Copy assignment operator. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a999467b1281607a55fbed6c1731042fb}\label{classWt_1_1Dbo_1_1weak__ptr_a999467b1281607a55fbed6c1731042fb}} 
{\footnotesize template$<$class D , class  = typename std\+::enable\+\_\+if$<$std\+::is\+\_\+same$<$\+Mut\+C,\+D$>$\+::value$>$\+::type$>$ }\\\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ C $>$ \& {\bfseries operator=} (const \mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{ptr}}$<$ D $>$ \&other)
\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a546c1b6a2d9bc7216d562c5b9c46822e}\label{classWt_1_1Dbo_1_1weak__ptr_a546c1b6a2d9bc7216d562c5b9c46822e}} 
\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_1_1accessor}{accessor}} {\bfseries operator-\/$>$} () const
\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a9085395169ab6fe63a71eb985bcf4c1f}\label{classWt_1_1Dbo_1_1weak__ptr_a9085395169ab6fe63a71eb985bcf4c1f}} 
\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_1_1mutator}{mutator}} {\bfseries modify} () const
\item 
bool \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_ad0bdf1c5f743c6118f1218a647e65ab8}{operator==}} (const \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ MutC $>$ \&other) const
\begin{DoxyCompactList}\small\item\em Comparison operator. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_acbaa39af658d69c3841f0cf0dc4a8c1a}\label{classWt_1_1Dbo_1_1weak__ptr_acbaa39af658d69c3841f0cf0dc4a8c1a}} 
bool {\bfseries operator==} (const \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ const C $>$ \&other) const
\item 
bool \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_ac6e5211947b77c4b2f06fed0de33b1af}{operator==}} (const \mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{ptr}}$<$ MutC $>$ \&other) const
\begin{DoxyCompactList}\small\item\em Comparison operator. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_afdd0cfa0fbc5d23e46e6267f6cf53586}\label{classWt_1_1Dbo_1_1weak__ptr_afdd0cfa0fbc5d23e46e6267f6cf53586}} 
bool {\bfseries operator==} (const \mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{ptr}}$<$ const C $>$ \&other) const
\item 
bool \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_ae4c36934506d27938bde828412246acb}{operator!=}} (const \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ MutC $>$ \&other) const
\begin{DoxyCompactList}\small\item\em Comparison operator. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_af51f08b920e864085742ab9200445064}\label{classWt_1_1Dbo_1_1weak__ptr_af51f08b920e864085742ab9200445064}} 
bool {\bfseries operator!=} (const \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ const C $>$ \&other) const
\item 
bool \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_a63db9f1bc3ac22bdcc769e914dab5ed6}{operator!=}} (const \mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{ptr}}$<$ MutC $>$ \&other) const
\begin{DoxyCompactList}\small\item\em Comparison operator. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_aed0ad83ecd199d39c503ba6caaad1bb6}\label{classWt_1_1Dbo_1_1weak__ptr_aed0ad83ecd199d39c503ba6caaad1bb6}} 
bool {\bfseries operator!=} (const \mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{ptr}}$<$ const C $>$ \&other) const
\item 
\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_a4097fb48c660419468ff3d85a11b1acf}{operator bool}} () const
\begin{DoxyCompactList}\small\item\em Checks for null. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_a1bea8c68f2ade03cfdfa273ca0e625b0}{operator ptr$<$ C $>$}} () const
\begin{DoxyCompactList}\small\item\em Casting operator to a ptr. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a1c8ab4f3e89d03de25666a6a5b24eae4}\label{classWt_1_1Dbo_1_1weak__ptr_a1c8ab4f3e89d03de25666a6a5b24eae4}} 
{\footnotesize template$<$class D , class  = typename std\+::enable\+\_\+if$<$std\+::is\+\_\+same$<$\+D, std\+::add\+\_\+const$<$\+C$>$$>$\+::value$>$$>$ }\\{\bfseries operator ptr$<$ D $>$} () const
\item 
\mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{ptr}}$<$ C $>$ \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_a320e84142ca80183d10caa1610531f48}{query}} () const
\begin{DoxyCompactList}\small\item\em Promotes to a ptr. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{ptr}}$<$ C $>$ \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_abb35da83d992a879ed8b422b33d90177}{lock}} () const
\begin{DoxyCompactList}\small\item\em Promotes to a ptr. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structWt_1_1Dbo_1_1dbo__traits}{dbo\+\_\+traits}}$<$ C $>$\+::Id\+Type \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_a97ee067804cef599d89160e6c936a8b9}{id}} () const
\begin{DoxyCompactList}\small\item\em Returns the object id. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a52b4b9cde0a0d75e431408f4e560460a}\label{classWt_1_1Dbo_1_1weak__ptr_a52b4b9cde0a0d75e431408f4e560460a}} 
{\footnotesize template$<$class C $>$ }\\{\bfseries weak\+\_\+ptr} (const \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ C $>$ \&other)
\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a90cc708a3a6280d210c563bbc86d1c24}\label{classWt_1_1Dbo_1_1weak__ptr_a90cc708a3a6280d210c563bbc86d1c24}} 
{\footnotesize template$<$class C $>$ }\\{\bfseries weak\+\_\+ptr} (\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ C $>$ \&\&other) noexcept
\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a6b511f7ba62201678df224e77d20fce2}\label{classWt_1_1Dbo_1_1weak__ptr_a6b511f7ba62201678df224e77d20fce2}} 
{\footnotesize template$<$class C $>$ }\\\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ C $>$ \& {\bfseries operator=} (const \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ C $>$ \&other)
\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a6f4f283b7f14c1b3bc4acee4e1480f74}\label{classWt_1_1Dbo_1_1weak__ptr_a6f4f283b7f14c1b3bc4acee4e1480f74}} 
{\footnotesize template$<$class C $>$ }\\\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ C $>$ \& {\bfseries operator=} (\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ C $>$ \&\&other) noexcept
\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a2895f3f9adc56e6102ceab2e0fdd9583}\label{classWt_1_1Dbo_1_1weak__ptr_a2895f3f9adc56e6102ceab2e0fdd9583}} 
{\footnotesize template$<$class C $>$ }\\\mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ C $>$ \& {\bfseries operator=} (const \mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{ptr}}$<$ C $>$ \&other)
\end{DoxyCompactItemize}
\doxysubsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a8b7d67b3753040500239ceebd536fc5a}\label{classWt_1_1Dbo_1_1weak__ptr_a8b7d67b3753040500239ceebd536fc5a}} 
typedef std\+::remove\+\_\+const$<$ C $>$\+::type {\bfseries MutC}
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_acc3f346f25061ed60c70efe9def52c85}\label{classWt_1_1Dbo_1_1weak__ptr_acc3f346f25061ed60c70efe9def52c85}} 
void {\bfseries set\+Relation\+Data} (\mbox{\hyperlink{classWt_1_1Dbo_1_1MetaDboBase}{Meta\+Dbo\+Base}} $\ast$dbo, const std\+::string $\ast$sql, \mbox{\hyperlink{structWt_1_1Dbo_1_1Impl_1_1SetInfo}{Impl\+::\+Set\+Info}} $\ast$info)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_aba4ff8e688dde5630bf68e7721106c8f}\label{classWt_1_1Dbo_1_1weak__ptr_aba4ff8e688dde5630bf68e7721106c8f}} 
\mbox{\hyperlink{classWt_1_1Dbo_1_1collection}{collection}}$<$ \mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{ptr}}$<$ MutC $>$ $>$ {\bfseries collection\+\_\+}
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a8b3b8d8c209023c6dfaf2807c78cb44d}\label{classWt_1_1Dbo_1_1weak__ptr_a8b3b8d8c209023c6dfaf2807c78cb44d}} 
class {\bfseries Dbo\+Action}
\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_ac4858dc2017d7c1c4c30c7a67866fbda}\label{classWt_1_1Dbo_1_1weak__ptr_ac4858dc2017d7c1c4c30c7a67866fbda}} 
class {\bfseries Save\+Base\+Action}
\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a5a6fe2517d31a6ef43e344928e89bae0}\label{classWt_1_1Dbo_1_1weak__ptr_a5a6fe2517d31a6ef43e344928e89bae0}} 
class {\bfseries Set\+Reciproce\+Action}
\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a4c1c8d5a2a175b2104c7d8ad5069e3c9}\label{classWt_1_1Dbo_1_1weak__ptr_a4c1c8d5a2a175b2104c7d8ad5069e3c9}} 
class {\bfseries weak\+\_\+ptr$<$ Mut\+C $>$}
\item 
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a280b6c2ac9e8b5627a8a41f49bd72599}\label{classWt_1_1Dbo_1_1weak__ptr_a280b6c2ac9e8b5627a8a41f49bd72599}} 
class {\bfseries weak\+\_\+ptr$<$ const C $>$}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A weak pointer for a database object. 

A \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}} has similar A\+PI and capabilities as a ptr, but does not actually store a reference to the object itself. Instead, it uses a query to retrieve the object.

It is used only to implement a One\+To\+One relation\+:
\begin{DoxyItemize}
\item class A has\+One class B object, in a \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}
\item class B belongs\+To a class A object, in a ptr
\end{DoxyItemize}

This cannot be implemented using two plain ptr\textquotesingle{}s because otherwise a cycle would be created which interferes with the count-\/based shared pointer implementation of ptr.

Only in a One\+To\+One relation, the required querying logic for the \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}} to function properly is provided by the \mbox{\hyperlink{group__dbo_ga00a060d5f4764f673948989f21837548}{has\+One()}} call, and thus a \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}} cannot be used outside of a One\+To\+One relation.

The \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}} has almost the same capabilities as a ptr, except that it does not provide a dereference operator ($\ast$).

It\textquotesingle{}s important to realize that reading a \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}} results in a query, and thus you may want to first convert the \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}} into a plain ptr when needing multiple operations.

A Wt\+::\+Dbo\+::ptr$<$\+C$>$ can be converted to a Wt\+::\+Dbo\+::ptr$<$const C$>$ when extracting data from \mbox{\hyperlink{classWt_1_1Dbo_1_1Dbo}{Dbo}} objects. There are overloads for the copy constructor, copy assignment, and comparison operators to make this work as expected. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a5830deaafebce2dc453956b99b94281b}\label{classWt_1_1Dbo_1_1weak__ptr_a5830deaafebce2dc453956b99b94281b}} 
\index{Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}!weak\_ptr@{weak\_ptr}}
\index{weak\_ptr@{weak\_ptr}!Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}}
\doxysubsubsection{\texorpdfstring{weak\_ptr()}{weak\_ptr()}}
{\footnotesize\ttfamily Wt\+::\+Dbo\+::weak\+\_\+ptr\+::weak\+\_\+ptr (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Creates a new weak pointer. 

The ptr does not point to anything. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a97ee067804cef599d89160e6c936a8b9}\label{classWt_1_1Dbo_1_1weak__ptr_a97ee067804cef599d89160e6c936a8b9}} 
\index{Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}!id@{id}}
\index{id@{id}!Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}}
\doxysubsubsection{\texorpdfstring{id()}{id()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structWt_1_1Dbo_1_1dbo__traits}{dbo\+\_\+traits}}$<$ C $>$\+::Id\+Type Wt\+::\+Dbo\+::weak\+\_\+ptr\+::id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns the object id. 

Since this needs to query the value, you should have an active transaction. \mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_abb35da83d992a879ed8b422b33d90177}\label{classWt_1_1Dbo_1_1weak__ptr_abb35da83d992a879ed8b422b33d90177}} 
\index{Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}!lock@{lock}}
\index{lock@{lock}!Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}}
\doxysubsubsection{\texorpdfstring{lock()}{lock()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{ptr}}$<$ C $>$ Wt\+::\+Dbo\+::weak\+\_\+ptr\+::lock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Promotes to a ptr. 

Returns the value as a plain ptr.

Since this needs to query the value, you should have an active transaction.

This is equivalent to \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_a320e84142ca80183d10caa1610531f48}{query()}} or the \mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{ptr$<$\+C$>$}} cast operator. \mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a4097fb48c660419468ff3d85a11b1acf}\label{classWt_1_1Dbo_1_1weak__ptr_a4097fb48c660419468ff3d85a11b1acf}} 
\index{Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}!operator bool@{operator bool}}
\index{operator bool@{operator bool}!Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}}
\doxysubsubsection{\texorpdfstring{operator bool()}{operator bool()}}
{\footnotesize\ttfamily Wt\+::\+Dbo\+::weak\+\_\+ptr\+::operator bool (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [explicit]}}



Checks for null. 

Returns true if the pointer is pointing to a non-\/null object.

Since this needs to query the value, you should have an active transaction. \mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a1bea8c68f2ade03cfdfa273ca0e625b0}\label{classWt_1_1Dbo_1_1weak__ptr_a1bea8c68f2ade03cfdfa273ca0e625b0}} 
\index{Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}!operator ptr$<$ C $>$@{operator ptr$<$ C $>$}}
\index{operator ptr$<$ C $>$@{operator ptr$<$ C $>$}!Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}}
\doxysubsubsection{\texorpdfstring{operator ptr$<$ C $>$()}{operator ptr< C >()}}
{\footnotesize\ttfamily Wt\+::\+Dbo\+::weak\+\_\+ptr\+::operator \mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{ptr}}$<$ C $>$ (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Casting operator to a ptr. 

Returns the value as a plain ptr.

Since this needs to query the value, you should have an active transaction. \mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a63db9f1bc3ac22bdcc769e914dab5ed6}\label{classWt_1_1Dbo_1_1weak__ptr_a63db9f1bc3ac22bdcc769e914dab5ed6}} 
\index{Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}!operator"!=@{operator"!=}}
\index{operator"!=@{operator"!=}!Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}}
\doxysubsubsection{\texorpdfstring{operator"!=()}{operator!=()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool Wt\+::\+Dbo\+::weak\+\_\+ptr\+::operator!= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{ptr}}$<$ MutC $>$ \&}]{other }\end{DoxyParamCaption}) const}



Comparison operator. 

Two pointers are equal if and only if they reference the same database object.

Since this needs to query the value, you should have an active transaction. \mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_ae4c36934506d27938bde828412246acb}\label{classWt_1_1Dbo_1_1weak__ptr_ae4c36934506d27938bde828412246acb}} 
\index{Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}!operator"!=@{operator"!=}}
\index{operator"!=@{operator"!=}!Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}}
\doxysubsubsection{\texorpdfstring{operator"!=()}{operator!=()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool Wt\+::\+Dbo\+::weak\+\_\+ptr\+::operator!= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ MutC $>$ \&}]{other }\end{DoxyParamCaption}) const}



Comparison operator. 

Two pointers are equal if and only if they reference the same database object.

Since this needs to query the value, you should have an active transaction. \mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a27782164182883bc260bbf7a8307942f}\label{classWt_1_1Dbo_1_1weak__ptr_a27782164182883bc260bbf7a8307942f}} 
\index{Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}!operator=@{operator=}}
\index{operator=@{operator=}!Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$C$>$\& Wt\+::\+Dbo\+::weak\+\_\+ptr\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{ptr}}$<$ C $>$ \&}]{other }\end{DoxyParamCaption})}



Copy assignment operator. 

Since this needs to query the previous value, you should have an active transaction. \mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a9f8ff78c10a70d62cb69c2357dfc0ca2}\label{classWt_1_1Dbo_1_1weak__ptr_a9f8ff78c10a70d62cb69c2357dfc0ca2}} 
\index{Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}!operator=@{operator=}}
\index{operator=@{operator=}!Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$C$>$\& Wt\+::\+Dbo\+::weak\+\_\+ptr\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ C $>$ \&}]{other }\end{DoxyParamCaption})}



Copy assignment operator. 

Since this needs to query the previous value, you should have an active transaction. \mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_ac6e5211947b77c4b2f06fed0de33b1af}\label{classWt_1_1Dbo_1_1weak__ptr_ac6e5211947b77c4b2f06fed0de33b1af}} 
\index{Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}!operator==@{operator==}}
\index{operator==@{operator==}!Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}}
\doxysubsubsection{\texorpdfstring{operator==()}{operator==()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool Wt\+::\+Dbo\+::weak\+\_\+ptr\+::operator== (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{ptr}}$<$ MutC $>$ \&}]{other }\end{DoxyParamCaption}) const}



Comparison operator. 

Two pointers are equal if and only if they reference the same database object.

Since this needs to query the value, you should have an active transaction. \mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_ad0bdf1c5f743c6118f1218a647e65ab8}\label{classWt_1_1Dbo_1_1weak__ptr_ad0bdf1c5f743c6118f1218a647e65ab8}} 
\index{Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}!operator==@{operator==}}
\index{operator==@{operator==}!Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}}
\doxysubsubsection{\texorpdfstring{operator==()}{operator==()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool Wt\+::\+Dbo\+::weak\+\_\+ptr\+::operator== (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr}{weak\+\_\+ptr}}$<$ MutC $>$ \&}]{other }\end{DoxyParamCaption}) const}



Comparison operator. 

Two pointers are equal if and only if they reference the same database object.

Since this needs to query the value, you should have an active transaction. \mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_a320e84142ca80183d10caa1610531f48}\label{classWt_1_1Dbo_1_1weak__ptr_a320e84142ca80183d10caa1610531f48}} 
\index{Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}!query@{query}}
\index{query@{query}!Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}}
\doxysubsubsection{\texorpdfstring{query()}{query()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{ptr}}$<$ C $>$ Wt\+::\+Dbo\+::weak\+\_\+ptr\+::query (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Promotes to a ptr. 

Returns the value as a plain ptr.

Since this needs to query the value, you should have an active transaction.

This is equivalent to \mbox{\hyperlink{classWt_1_1Dbo_1_1weak__ptr_abb35da83d992a879ed8b422b33d90177}{lock()}} or the \mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{ptr$<$\+C$>$}} cast operator. \mbox{\Hypertarget{classWt_1_1Dbo_1_1weak__ptr_abe38689ff11f3d4b73b34b515b1175b8}\label{classWt_1_1Dbo_1_1weak__ptr_abe38689ff11f3d4b73b34b515b1175b8}} 
\index{Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}!reset@{reset}}
\index{reset@{reset}!Wt::Dbo::weak\_ptr@{Wt::Dbo::weak\_ptr}}
\doxysubsubsection{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily void Wt\+::\+Dbo\+::weak\+\_\+ptr\+::reset (\begin{DoxyParamCaption}\item[{C $\ast$}]{obj = {\ttfamily 0} }\end{DoxyParamCaption})}



Sets the value. 

This is assigns a new value, and\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{p.reset(obj);}
\end{DoxyCode}
 is equivalent to\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{p = \mbox{\hyperlink{classWt_1_1Dbo_1_1ptr}{Wt::Dbo::ptr<T>}}(obj);}
\end{DoxyCode}


Since this needs to query the previous value, you should have an active transaction. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
wt-\/4.\+8.\+2/src/\+Wt/\+Dbo/ptr.\+h\item 
wt-\/4.\+8.\+2/src/\+Wt/\+Dbo/weak\+\_\+ptr.\+h\item 
wt-\/4.\+8.\+2/src/\+Wt/\+Dbo/weak\+\_\+ptr\+\_\+impl.\+h\end{DoxyCompactItemize}
