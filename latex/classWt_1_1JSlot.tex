\hypertarget{classWt_1_1JSlot}{}\doxysection{Wt\+::J\+Slot Class Reference}
\label{classWt_1_1JSlot}\index{Wt::JSlot@{Wt::JSlot}}


A slot that is only implemented in client side Java\+Script code.  




Collaboration diagram for Wt\+::J\+Slot\+:
% FIG 0
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classWt_1_1JSlot_ae38e6dec998f9cdf58ac5f21a0933eed}{J\+Slot}} (\mbox{\hyperlink{classWt_1_1WWidget}{W\+Widget}} $\ast$parent=nullptr)
\begin{DoxyCompactList}\small\item\em Constructs a Java\+Script-\/only slot within the parent scope. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classWt_1_1JSlot_a46f22d81196c94ac9aea4342a02facd9}{J\+Slot}} (const std\+::string \&java\+Script, \mbox{\hyperlink{classWt_1_1WWidget}{W\+Widget}} $\ast$parent=nullptr)
\begin{DoxyCompactList}\small\item\em Constructs a Java\+Script-\/only slot and sets the Java\+Script code. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classWt_1_1JSlot_a5c28369902ffe488c09cc18d431549ab}{J\+Slot}} (int nb\+Args, \mbox{\hyperlink{classWt_1_1WWidget}{W\+Widget}} $\ast$parent)
\begin{DoxyCompactList}\small\item\em Constructs a Java\+Script-\/only slot and set the number of arguments. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classWt_1_1JSlot_ab4fe65d94a9fd7859087cc9044f84f7d}{J\+Slot}} (const std\+::string \&java\+Script, int nb\+Args, \mbox{\hyperlink{classWt_1_1WWidget}{W\+Widget}} $\ast$parent=nullptr)
\begin{DoxyCompactList}\small\item\em Constructs a Java\+Script-\/only slot and sets the Java\+Script code and a number of arguments. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classWt_1_1JSlot_ade213c06a4ee987a4ec39446e6954e21}\label{classWt_1_1JSlot_ade213c06a4ee987a4ec39446e6954e21}} 
\mbox{\hyperlink{classWt_1_1JSlot_ade213c06a4ee987a4ec39446e6954e21}{$\sim$\+J\+Slot}} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classWt_1_1JSlot_a3702c8e823928d5ddfd286d639911a4e}{set\+Java\+Script}} (const std\+::string \&java\+Script, int nb\+Args=0)
\begin{DoxyCompactList}\small\item\em Set or modify the Java\+Script code associated with the slot. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classWt_1_1JSlot_ad6a3fa210e840eccecb38e5f9fea7c71}{exec}} (const std\+::string \&object=\char`\"{}null\char`\"{}, const std\+::string \&event=\char`\"{}null\char`\"{}, const std\+::string \&arg1=\char`\"{}null\char`\"{}, const std\+::string \&arg2=\char`\"{}null\char`\"{}, const std\+::string \&arg3=\char`\"{}null\char`\"{}, const std\+::string \&arg4=\char`\"{}null\char`\"{}, const std\+::string \&arg5=\char`\"{}null\char`\"{}, const std\+::string \&arg6=\char`\"{}null\char`\"{})
\begin{DoxyCompactList}\small\item\em Executes the Java\+Script code. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classWt_1_1JSlot_a8463b73f0ae919dd058060932612486e}{exec\+Js}} (const std\+::string \&object=\char`\"{}null\char`\"{}, const std\+::string \&event=\char`\"{}null\char`\"{}, const std\+::string \&arg1=\char`\"{}null\char`\"{}, const std\+::string \&arg2=\char`\"{}null\char`\"{}, const std\+::string \&arg3=\char`\"{}null\char`\"{}, const std\+::string \&arg4=\char`\"{}null\char`\"{}, const std\+::string \&arg5=\char`\"{}null\char`\"{}, const std\+::string \&arg6=\char`\"{}null\char`\"{})
\begin{DoxyCompactList}\small\item\em Returns a Java\+Script statement that executes the slot. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classWt_1_1JSlot_a32939de16dd18bf662f16ef363228594}\label{classWt_1_1JSlot_a32939de16dd18bf662f16ef363228594}} 
int \mbox{\hyperlink{classWt_1_1JSlot_a32939de16dd18bf662f16ef363228594}{get\+Nb\+Args}} ()
\begin{DoxyCompactList}\small\item\em Returns the number of extra arguments this J\+Slot takes. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classWt_1_1JSlot_ae7b449a5252b80cf4a20ff89589e4228}\label{classWt_1_1JSlot_ae7b449a5252b80cf4a20ff89589e4228}} 
void {\bfseries disconnect\+From} (\mbox{\hyperlink{classWt_1_1EventSignalBase}{Event\+Signal\+Base}} $\ast$signal)
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classWt_1_1JSlot_a3832f61c8ddef3d125b66cc5d8d23be4}\label{classWt_1_1JSlot_a3832f61c8ddef3d125b66cc5d8d23be4}} 
std\+::string {\bfseries js\+Function\+Name} () const
\item 
\mbox{\Hypertarget{classWt_1_1JSlot_adf524938e77df6c92626dd56a71f0da7}\label{classWt_1_1JSlot_adf524938e77df6c92626dd56a71f0da7}} 
\mbox{\hyperlink{classWt_1_1WStatelessSlot}{W\+Stateless\+Slot}} $\ast$ {\bfseries slotimp} ()
\item 
\mbox{\Hypertarget{classWt_1_1JSlot_a27d059f61007800d6220218c5cf73baf}\label{classWt_1_1JSlot_a27d059f61007800d6220218c5cf73baf}} 
void {\bfseries create} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classWt_1_1JSlot_a7908825fed5f3101211c293ce84666e7}\label{classWt_1_1JSlot_a7908825fed5f3101211c293ce84666e7}} 
\mbox{\hyperlink{classWt_1_1WWidget}{W\+Widget}} $\ast$ {\bfseries widget\+\_\+}
\item 
\mbox{\Hypertarget{classWt_1_1JSlot_a132fb266d37174458c25366f32f21204}\label{classWt_1_1JSlot_a132fb266d37174458c25366f32f21204}} 
\mbox{\hyperlink{classWt_1_1WStatelessSlot}{W\+Stateless\+Slot}} $\ast$ {\bfseries imp\+\_\+}
\item 
\mbox{\Hypertarget{classWt_1_1JSlot_a93876f70a06494a549c60096258f4bba}\label{classWt_1_1JSlot_a93876f70a06494a549c60096258f4bba}} 
const unsigned {\bfseries fid\+\_\+}
\item 
\mbox{\Hypertarget{classWt_1_1JSlot_a6c1a04a4879b2f1f737c887ecac2c111}\label{classWt_1_1JSlot_a6c1a04a4879b2f1f737c887ecac2c111}} 
int {\bfseries nb\+Args\+\_\+}
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classWt_1_1JSlot_ab9db623f7f89d4aa6e4d9d3ef7ec7111}\label{classWt_1_1JSlot_ab9db623f7f89d4aa6e4d9d3ef7ec7111}} 
static unsigned {\bfseries next\+Fid\+\_\+}
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classWt_1_1JSlot_a51f71f26be5bfce179266fdecad9f91d}\label{classWt_1_1JSlot_a51f71f26be5bfce179266fdecad9f91d}} 
class {\bfseries Event\+Signal\+Base}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A slot that is only implemented in client side Java\+Script code. 

This class provides a hook for adding your own Java\+Script to respond to events.

Carefully consider the use of this. Not only is writing cross-\/browser Java\+Script hard and tedious, but one must also be aware of possible security problems (see further), and of course, the event handling will not be available when Java\+Script is disabled or not present at all.

For some purposes, stateless slot implementations are not sufficient, since they do not allow state inspection. At the same time, the non-\/availability in case of disabled Java\+Script may also be fine for some non-\/essential functionality (see for example the \mbox{\hyperlink{classWt_1_1WSuggestionPopup}{W\+Suggestion\+Popup}} widget), or when you simply do not care. For these situations a J\+Slot can be used to add client-\/side event handling.

The Java\+Script code may be set (or changed) using the \mbox{\hyperlink{classWt_1_1JSlot_a3702c8e823928d5ddfd286d639911a4e}{set\+Java\+Script()}} method which takes a string that implements a Java\+Script function with the following signature\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{function}(sender, event) \{}
\DoxyCodeLine{  \textcolor{comment}{// handle the event, and sender is a reference to the DOM element}}
\DoxyCodeLine{  \textcolor{comment}{// which captured the event (and holds the signal). Therefore it}}
\DoxyCodeLine{  \textcolor{comment}{// equivalent to the sender for a normal Wt slot.}}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{comment}{// You can prevent the default action using:}}
\DoxyCodeLine{  var fixed = jQuery.event.fix(event);}
\DoxyCodeLine{  fixed.preventDefault();}
\DoxyCodeLine{  fixed.stopPropagation();}
\DoxyCodeLine{\}}
\end{DoxyCode}


In the Java\+Script code, you may use \mbox{\hyperlink{classWt_1_1WWidget_a83a186d2feacfbfbdb5b54f4cefc6735}{W\+Widget\+::js\+Ref()}} to obtain the D\+OM element corresponding to any \mbox{\hyperlink{classWt_1_1WWidget}{W\+Widget}}, or \mbox{\hyperlink{classWt_1_1WObject_a9f34b0c9ec343cf467f8b237d3256792}{W\+Widget\+::id()}} to obtain the D\+OM id. In addition you may trigger server-\/side events using the Java\+Script Wt\+Signal\+Emit function (see \mbox{\hyperlink{classWt_1_1JSignal}{J\+Signal}} documentation).

A J\+Slot can take up to six extra arguments. This is so that a \mbox{\hyperlink{classWt_1_1JSignal}{J\+Signal}} can pass its arguments directly on to a J\+Slot, without communicating with the server.

That\textquotesingle{}s how far we can help you. For the rest you are left to yourself, buggy browsers and quirky Java\+Script (\href{http://www.quirksmode.org/}{\texttt{ http\+://www.\+quirksmode.\+org/}} was a reliable companion to me) -- good luck.

\mbox{\hyperlink{classNote}{Note}} that the slot object needs to live as long as you want the Java\+Script to be executed by connected signals\+: when the slot is destroyed, the connection is destroyed just as with other signal/slot connections where the target object is deleted. This means that it is (almost?) always a bad idea to declare a \mbox{\hyperlink{classWt_1_1JSlot}{J\+Slot}} on the stack. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classWt_1_1JSlot_ae38e6dec998f9cdf58ac5f21a0933eed}\label{classWt_1_1JSlot_ae38e6dec998f9cdf58ac5f21a0933eed}} 
\index{Wt::JSlot@{Wt::JSlot}!JSlot@{JSlot}}
\index{JSlot@{JSlot}!Wt::JSlot@{Wt::JSlot}}
\doxysubsubsection{\texorpdfstring{JSlot()}{JSlot()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily Wt\+::\+J\+Slot\+::\+J\+Slot (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classWt_1_1WWidget}{W\+Widget}} $\ast$}]{parent = {\ttfamily nullptr} }\end{DoxyParamCaption})}



Constructs a Java\+Script-\/only slot within the parent scope. 

The Java\+Script code block will reside within the scope of the given widget. By picking a long-\/lived parent, one may reuse a single block of Java\+Script code for multiple widgets.

When {\ttfamily parent} = {\ttfamily 0}, then the Java\+Script will be inlined in each caller (possibly replicating the same Java\+Script).

The slot will have no extra arguments. \mbox{\Hypertarget{classWt_1_1JSlot_a46f22d81196c94ac9aea4342a02facd9}\label{classWt_1_1JSlot_a46f22d81196c94ac9aea4342a02facd9}} 
\index{Wt::JSlot@{Wt::JSlot}!JSlot@{JSlot}}
\index{JSlot@{JSlot}!Wt::JSlot@{Wt::JSlot}}
\doxysubsubsection{\texorpdfstring{JSlot()}{JSlot()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily Wt\+::\+J\+Slot\+::\+J\+Slot (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{java\+Script,  }\item[{\mbox{\hyperlink{classWt_1_1WWidget}{W\+Widget}} $\ast$}]{parent = {\ttfamily nullptr} }\end{DoxyParamCaption})}



Constructs a Java\+Script-\/only slot and sets the Java\+Script code. 

The slot will have no extra arguments.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classWt_1_1JSlot_ae38e6dec998f9cdf58ac5f21a0933eed}{J\+Slot(\+W\+Widget $\ast$)}}, \mbox{\hyperlink{classWt_1_1JSlot_a3702c8e823928d5ddfd286d639911a4e}{set\+Java\+Script()}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classWt_1_1JSlot_a5c28369902ffe488c09cc18d431549ab}\label{classWt_1_1JSlot_a5c28369902ffe488c09cc18d431549ab}} 
\index{Wt::JSlot@{Wt::JSlot}!JSlot@{JSlot}}
\index{JSlot@{JSlot}!Wt::JSlot@{Wt::JSlot}}
\doxysubsubsection{\texorpdfstring{JSlot()}{JSlot()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily Wt\+::\+J\+Slot\+::\+J\+Slot (\begin{DoxyParamCaption}\item[{int}]{nb\+Args,  }\item[{\mbox{\hyperlink{classWt_1_1WWidget}{W\+Widget}} $\ast$}]{parent }\end{DoxyParamCaption})}



Constructs a Java\+Script-\/only slot and set the number of arguments. 

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classWt_1_1JSlot_ae38e6dec998f9cdf58ac5f21a0933eed}{J\+Slot(\+W\+Widget $\ast$)}}, \mbox{\hyperlink{classWt_1_1JSlot_a3702c8e823928d5ddfd286d639911a4e}{set\+Java\+Script()}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classWt_1_1JSlot_ab4fe65d94a9fd7859087cc9044f84f7d}\label{classWt_1_1JSlot_ab4fe65d94a9fd7859087cc9044f84f7d}} 
\index{Wt::JSlot@{Wt::JSlot}!JSlot@{JSlot}}
\index{JSlot@{JSlot}!Wt::JSlot@{Wt::JSlot}}
\doxysubsubsection{\texorpdfstring{JSlot()}{JSlot()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily Wt\+::\+J\+Slot\+::\+J\+Slot (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{java\+Script,  }\item[{int}]{nb\+Args,  }\item[{\mbox{\hyperlink{classWt_1_1WWidget}{W\+Widget}} $\ast$}]{parent = {\ttfamily nullptr} }\end{DoxyParamCaption})}



Constructs a Java\+Script-\/only slot and sets the Java\+Script code and a number of arguments. 

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classWt_1_1JSlot_ae38e6dec998f9cdf58ac5f21a0933eed}{J\+Slot(\+W\+Widget $\ast$)}}, \mbox{\hyperlink{classWt_1_1JSlot_a3702c8e823928d5ddfd286d639911a4e}{set\+Java\+Script()}} 
\end{DoxySeeAlso}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classWt_1_1JSlot_ad6a3fa210e840eccecb38e5f9fea7c71}\label{classWt_1_1JSlot_ad6a3fa210e840eccecb38e5f9fea7c71}} 
\index{Wt::JSlot@{Wt::JSlot}!exec@{exec}}
\index{exec@{exec}!Wt::JSlot@{Wt::JSlot}}
\doxysubsubsection{\texorpdfstring{exec()}{exec()}}
{\footnotesize\ttfamily void Wt\+::\+J\+Slot\+::exec (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{object = {\ttfamily \char`\"{}null\char`\"{}},  }\item[{const std\+::string \&}]{event = {\ttfamily \char`\"{}null\char`\"{}},  }\item[{const std\+::string \&}]{arg1 = {\ttfamily \char`\"{}null\char`\"{}},  }\item[{const std\+::string \&}]{arg2 = {\ttfamily \char`\"{}null\char`\"{}},  }\item[{const std\+::string \&}]{arg3 = {\ttfamily \char`\"{}null\char`\"{}},  }\item[{const std\+::string \&}]{arg4 = {\ttfamily \char`\"{}null\char`\"{}},  }\item[{const std\+::string \&}]{arg5 = {\ttfamily \char`\"{}null\char`\"{}},  }\item[{const std\+::string \&}]{arg6 = {\ttfamily \char`\"{}null\char`\"{}} }\end{DoxyParamCaption})}



Executes the Java\+Script code. 

This executes the Java\+Script code in the same way as when triggered by a \mbox{\hyperlink{classWt_1_1EventSignal}{Event\+Signal}}. This function returns immediately, and execution of the Java\+Script code is deferred until after the event handling.

The first two arguments are the {\ttfamily \char`\"{}object, event\char`\"{}} arguments of the Java\+Script event callback function.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classWt_1_1JSlot_a3702c8e823928d5ddfd286d639911a4e}{set\+Java\+Script()}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classWt_1_1JSlot_a8463b73f0ae919dd058060932612486e}\label{classWt_1_1JSlot_a8463b73f0ae919dd058060932612486e}} 
\index{Wt::JSlot@{Wt::JSlot}!execJs@{execJs}}
\index{execJs@{execJs}!Wt::JSlot@{Wt::JSlot}}
\doxysubsubsection{\texorpdfstring{execJs()}{execJs()}}
{\footnotesize\ttfamily std\+::string Wt\+::\+J\+Slot\+::exec\+Js (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{object = {\ttfamily \char`\"{}null\char`\"{}},  }\item[{const std\+::string \&}]{event = {\ttfamily \char`\"{}null\char`\"{}},  }\item[{const std\+::string \&}]{arg1 = {\ttfamily \char`\"{}null\char`\"{}},  }\item[{const std\+::string \&}]{arg2 = {\ttfamily \char`\"{}null\char`\"{}},  }\item[{const std\+::string \&}]{arg3 = {\ttfamily \char`\"{}null\char`\"{}},  }\item[{const std\+::string \&}]{arg4 = {\ttfamily \char`\"{}null\char`\"{}},  }\item[{const std\+::string \&}]{arg5 = {\ttfamily \char`\"{}null\char`\"{}},  }\item[{const std\+::string \&}]{arg6 = {\ttfamily \char`\"{}null\char`\"{}} }\end{DoxyParamCaption})}



Returns a Java\+Script statement that executes the slot. 

This returns the Java\+Script code to execute the slot.

The arguments are the {\ttfamily \char`\"{}object, event\char`\"{}} arguments of the Java\+Script event callback function.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classWt_1_1JSlot_ad6a3fa210e840eccecb38e5f9fea7c71}{exec()}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classWt_1_1JSlot_a3702c8e823928d5ddfd286d639911a4e}\label{classWt_1_1JSlot_a3702c8e823928d5ddfd286d639911a4e}} 
\index{Wt::JSlot@{Wt::JSlot}!setJavaScript@{setJavaScript}}
\index{setJavaScript@{setJavaScript}!Wt::JSlot@{Wt::JSlot}}
\doxysubsubsection{\texorpdfstring{setJavaScript()}{setJavaScript()}}
{\footnotesize\ttfamily void Wt\+::\+J\+Slot\+::set\+Java\+Script (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{java\+Script,  }\item[{int}]{nb\+Args = {\ttfamily 0} }\end{DoxyParamCaption})}



Set or modify the Java\+Script code associated with the slot. 

When the slot is triggered, the corresponding function defined by {\ttfamily java\+Script} is executed.

The Java\+Script function takes at least two parameters and thus should look like\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{function}(obj, event) \{}
\DoxyCodeLine{  \textcolor{comment}{// ...}}
\DoxyCodeLine{\}}
\end{DoxyCode}
 The first parameter {\ttfamily obj} is a reference to the D\+OM element that generates the event. The {\ttfamily event} refers to the Java\+Script event object.

The Java\+Script function can take up to six extra arguments, which is to be configured using the nb\+Args parameter. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{function}(obj, event, a1, a2, a3, a4, a5, a6) \{}
\DoxyCodeLine{  \textcolor{comment}{// ...}}
\DoxyCodeLine{\}}
\end{DoxyCode}
 If this \mbox{\hyperlink{classWt_1_1JSlot}{J\+Slot}} is connected to a \mbox{\hyperlink{classWt_1_1JSignal}{J\+Signal}}, that \mbox{\hyperlink{classWt_1_1JSignal}{J\+Signal}}\textquotesingle{}s arguments will be passed on to the \mbox{\hyperlink{classWt_1_1JSlot}{J\+Slot}}.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classWt_1_1WWidget_a83a186d2feacfbfbdb5b54f4cefc6735}{W\+Widget\+::js\+Ref()}} 
\end{DoxySeeAlso}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
wt-\/4.\+8.\+2/src/\+Wt/W\+Java\+Script\+Slot.\+h\end{DoxyCompactItemize}
