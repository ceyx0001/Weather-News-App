<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Boogle Home: Locale feature example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Boogle Home
   &#160;<span id="projectnumber">VirtualAssistant</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Locale feature example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is an example that illustrates how one may use the local date/time API.</p>
<h1><a class="anchor" id="autotoc_md55"></a>
How to run</h1>
<p>See the README in the parent directory.</p>
<p>On POSIX systems (Linux, macOS, BSD,...), the time zone information in /usr/share/zoneinfo is used, and you don't need to do anything.</p>
<p>On Windows, this example requires the uncompressed IANA time zone data to be installed.</p>
<p>On Windows, you can specify the tzdata directory with <code>date::set_install</code>. This example sets it to <code>./tzdata</code>. The default on Windows is in the users's Downloads folder: <code>Downloads/tzdata</code>. You will also need to add the windowsZones.xml file (see <a href="http://unicode.org/repos/cldr/trunk/common/supplemental/windowsZones.xml">http://unicode.org/repos/cldr/trunk/common/supplemental/windowsZones.xml</a>).</p>
<p>To summarize, on Windows:</p>
<ul>
<li>In the directory that you will run the example from, create a <code>tzdata</code> directory</li>
<li>Download the latest time zone database from IANA: <a href="https://www.iana.org/time-zones">https://www.iana.org/time-zones</a> (Choose the <a class="el" href="classData.html" title="Data object interface.">Data</a> Only Distribution), and extract its contents into the <code>tzdata</code> directory you just created.</li>
<li>Download <code>windowsZones.xml</code> from <a href="http://unicode.org/repos/cldr/trunk/common/supplemental/windowsZones.xml">http://unicode.org/repos/cldr/trunk/common/supplemental/windowsZones.xml</a> and add it to the <code>tzdata</code> directory</li>
</ul>
<h1><a class="anchor" id="autotoc_md56"></a>
What it illustrates</h1>
<p>Timezones are not straightforward to deal with; the browser does not provide information on the user's time zone, but only on his current UTC offset.</p>
<p>The UTC offset is sufficient to show the current time in the user's time zone, but, because of daylight savings rules cannot be used to translate other UTC dates in the user's time zone. If these dates are critical for your application you will need to let the user configure his time zone.</p>
<p>This example shows one way of doing it by letting the user select a time zone from a combo-box. Obviously, this is information that you would save in the user's preferences.</p>
<ul>
<li>the use of WEnvironment::timeOffset() to get the user's current UTC offset</li>
<li>the use of the time zone database to configure a time zone</li>
<li>how one may make an educated guess of the time zone based on the user's current UTC offset</li>
<li>the use of WLocalDateTime to display a time point in the user's locale </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
