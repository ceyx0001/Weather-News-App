<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Boogle Home: Installing Wt with SAML support on Windows</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Boogle Home
   &#160;<span id="projectnumber">VirtualAssistant</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Installing <a class="el" href="classWt.html">Wt</a> with SAML support on Windows </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md25"></a>
Dependencies</h1>
<p>These instructions were derived from the Windows build instruction for Shibboleth SP: <a href="https://wiki.shibboleth.net/confluence/display/SP3/WindowsBuild">https://wiki.shibboleth.net/confluence/display/SP3/WindowsBuild</a></p>
<p>These steps describe how I (Roel Standaert) built it on Windows with the Visual Studio 2017 toolset:</p>
<h2><a class="anchor" id="autotoc_md26"></a>
Get dependencies</h2>
<p>Create your <code>ROOT_DIR</code> to put everything in, e.g.:</p>
<div class="fragment"><div class="line">C:\Users\roel\libraries\saml</div>
</div><!-- fragment --><p><a class="el" href="classGit.html" title="Git utility class for browsing git archives.">Git</a>, if installed into its default location is fine for the <code>SED</code> dependency.</p>
<p>Get <a href="https://strawberryperl.com/">Perl</a></p>
<p>Netwide Assembler (for OpenSSL): <a href="https://www.nasm.us/pub/nasm/releasebuilds/2.15.05/win64/nasm-2.15.05-installer-x64.exe">https://www.nasm.us/pub/nasm/releasebuilds/2.15.05/win64/nasm-2.15.05-installer-x64.exe</a></p>
<div class="fragment"><div class="line">git clone https://git.shibboleth.net/git/cpp-msbuild</div>
<div class="line">cd cpp-msbuild</div>
<div class="line">git checkout 5fca76fcfe36aa3a37220a2e5f033677b8688479</div>
<div class="line">cd ..</div>
<div class="line">git clone https://git.shibboleth.net/git/cpp-xmltooling -b 3.2.0</div>
<div class="line">git clone https://git.shibboleth.net/git/cpp-opensaml -b 3.2.0</div>
</div><!-- fragment --><p>Get log4shib: </p><div class="fragment"><div class="line">git clone https://git.shibboleth.net/git/cpp-log4shib</div>
<div class="line">cd cpp-log4shib</div>
<div class="line">REM master at time of writing (2.0.0 release has issues):</div>
<div class="line">git checkout ed0436600d5315e8795a35079548abe157700756</div>
<div class="line">cd ..</div>
</div><!-- fragment --><p>Get <a href="https://zlib.net/zlib1211.zip">zlib</a>, put <code>zlib-1.2.11</code> folder in <code>ROOT_DIR</code>.</p>
<p>Get <a href="https://www.openssl.org/source/openssl-1.1.1j.tar.gz">OpenSSL</a>, and unpack it in <code>ROOT_DIR</code>.</p>
<p>Get <a href="https://github.com/curl/curl/releases/download/curl-7_75_0/curl-7.75.0.zip">curl</a>, and unpack it in <code>ROOT_DIR</code>.</p>
<p>Get <a href="https://downloads.apache.org//xerces/c/3/sources/xerces-c-3.2.3.zip">Xerces C++</a>, and unpack it in <code>ROOT_DIR</code></p>
<p>Get <a href="https://www.apache.org/dyn/closer.lua/santuario/c-library/xml-security-c-2.0.2.zip">XmlSecurity</a>, and unpack it in <code>ROOT_DIR</code></p>
<h2><a class="anchor" id="autotoc_md27"></a>
Dependency configuration</h2>
<p>Had to uncomment in <code>cpp-msbuild/env.make</code>:</p>
<div class="fragment"><div class="line"># !if &quot;$(SED)&quot; == &quot;&quot;</div>
<div class="line"># SED=sed</div>
<div class="line"># !endif</div>
</div><!-- fragment --><p>Change <code>ROOT_DIR</code>, e.g.:</p>
<div class="fragment"><div class="line">set ROOT_DIR=C:\Users\roel\libraries\saml\</div>
</div><!-- fragment --><p><a class="el" href="classNote.html" title="Sticky note.">Note</a> the trailing slash!</p>
<h3><a class="anchor" id="autotoc_md28"></a>
Modify &lt;tt&gt;cpp-msbuild/dependencies/config.bat&lt;/tt&gt;</h3>
<p>Under <code>:path_done</code>:</p>
<p>Add Perl and NASM:</p>
<div class="fragment"><div class="line">REM Set Perl and nasm</div>
<div class="line">set PERL=c:\Strawberry\perl\bin\perl.exe</div>
<div class="line">set PATH=%PATH%;C:\Program Files\NASM</div>
</div><!-- fragment --><p>Change OpenSSL:</p>
<div class="fragment"><div class="line">set OPENSSL_DIR=openssl-1.1.1j</div>
<div class="line">REM j is the tenth letter of the alphabet, hence 10</div>
<div class="line">set OPENSSL_MM_VERSION=1.1.1.10</div>
<div class="line">set OPENSSL_FILE_VERSION=1_1_1_10</div>
</div><!-- fragment --><p>Change Curl:</p>
<div class="fragment"><div class="line">Set LIBCURL_VERSION=7.75.0</div>
<div class="line">set LIBCURL_DIR=curl-%LIBCURL_VERSION%</div>
<div class="line">set LIBCURL_FILE_VERSION=</div>
</div><!-- fragment --><p>XmlSecurity is already fine</p>
<p>Zlib is already fine</p>
<p>Change Log4shib:</p>
<div class="fragment"><div class="line">set LOG4SHIB_DIR=cpp-log4shib</div>
<div class="line">set LOG4SHIB_MM_VERSION=2.0.0</div>
<div class="line">set LOG4SHIB_FILE_VERSION=2_0</div>
</div><!-- fragment --><p>Xerces is already fine</p>
<p>This corresponds to Visual Studio 2017:</p>
<div class="fragment"><div class="line">SET MsVCVersionNum=15</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md29"></a>
OpenSSL modifications</h3>
<p>Add the OpenSSL subversion in <code>Configurations/10-main.conf</code>:</p>
<div class="fragment"><div class="line">multilib         =&gt; &quot;_1_10-x64&quot;,</div>
</div><!-- fragment --><p>Duplicate the whole setting to a new target "VC-WIN64AD", this time add D to the <code>multilib</code>:</p>
<div class="fragment"><div class="line">&quot;VC-WIN64AD&quot; =&gt; {</div>
<div class="line">    inherit_from     =&gt; [ &quot;VC-WIN64-common&quot;, asm(&quot;x86_64_asm&quot;),</div>
<div class="line">                          sub { $disabled{shared} ? () : &quot;x86_64_uplink&quot; } ],</div>
<div class="line">    AS               =&gt; sub { vc_win64a_info()-&gt;{AS} },</div>
<div class="line">    ASFLAGS          =&gt; sub { vc_win64a_info()-&gt;{ASFLAGS} },</div>
<div class="line">    asoutflag        =&gt; sub { vc_win64a_info()-&gt;{asoutflag} },</div>
<div class="line">    asflags          =&gt; sub { vc_win64a_info()-&gt;{asflags} },</div>
<div class="line">    sys_id           =&gt; &quot;WIN64A&quot;,</div>
<div class="line">    bn_asm_src       =&gt; sub { return undef unless @_;</div>
<div class="line">                              my $r=join(&quot; &quot;,@_); $r=~s|asm/x86_64-gcc|bn_asm|; $r; },</div>
<div class="line">    perlasm_scheme   =&gt; &quot;auto&quot;,</div>
<div class="line">    multilib         =&gt; &quot;_1_10D-x64&quot;,</div>
<div class="line">}</div>
</div><!-- fragment --><p>We won't do the 32 bit build.</p>
<h2><a class="anchor" id="autotoc_md30"></a>
Building dependencies</h2>
<p>Launch "x64 Native Tools Command Prompt for VS 2017" and go to the <code>ROOT_DIR</code>.</p>
<div class="fragment"><div class="line">cd cpp-msbuild\dependencies</div>
<div class="line">.\config.bat</div>
</div><!-- fragment --><div class="fragment"><div class="line">nmake /f dependency.make openssl</div>
<div class="line">REM got winsock2.h include error</div>
<div class="line">REM opened sln file for log4shib in Visual Studio and</div>
<div class="line">REM retargeted to one of the Windows SDK versions I had</div>
<div class="line">nmake /f dependency.make log4shib</div>
<div class="line">nmake /f dependency.make zlib</div>
<div class="line">nmake /f dependency.make xerces</div>
<div class="line">nmake /f dependency.make curl</div>
<div class="line">REM needed MFC installed for afxres.h</div>
<div class="line">nmake /f dependency.make xsec</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md31"></a>
Building OpenSAML</h2>
<p>Create <code>BuildPath.props</code> in <code>ROOT_DIR</code>:</p>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">encoding</span>=<span class="stringliteral">&quot;utf-8&quot;</span>?&gt;</div>
<div class="line">&lt;<span class="keywordtype">Project</span> <span class="keyword">DefaultTargets</span>=<span class="stringliteral">&quot;Build&quot;</span> <span class="keyword">ToolsVersion</span>=<span class="stringliteral">&quot;4.0&quot;</span> <span class="keyword">xmlns</span>=<span class="stringliteral">&quot;http://schemas.microsoft.com/developer/msbuild/2003&quot;</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">Project</span>&gt;</div>
</div><!-- fragment --><p>Update <code>cpp-msbuild/Versions.props</code>:</p>
<p>I left the GUIDs intact for now, but maybe they should be changed?</p>
<p>Curl (7.74.0 to 7.75.0):</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">PropertyGroup</span> <span class="keyword">Label</span>=<span class="stringliteral">&quot;CurlGuidsBad&quot;</span> <span class="keyword">Condition</span>=<span class="stringliteral">&quot;&#39;$(LIBCURL_FILE_VERSION)&#39; != &#39;9&#39;&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">CurlFileVersion</span>&gt;<span class="keyword">BAD_LIBCURL_FILE_VERSION</span>&lt;/<span class="keywordtype">CurlFileVersion</span>&gt;</div>
<div class="line">  <span class="comment">&lt;!-- Changing LIBCURL_FILE_VERSION version requires changing the GUIDs since it is garnish on the name --&gt;</span></div>
<div class="line">&lt;/<span class="keywordtype">PropertyGroup</span>&gt;</div>
<div class="line">&lt;<span class="keywordtype">PropertyGroup</span> <span class="keyword">Label</span>=<span class="stringliteral">&quot;CurlGuids&quot;</span> <span class="keyword">Condition</span>=<span class="stringliteral">&quot;&#39;$(LIBCURL_FILE_VERSION)&#39; == &#39;9&#39;&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">CurlVersion</span> <span class="keyword">Condition</span>=<span class="stringliteral">&quot;&#39;$(LIBCURL_DIR)&#39;!=&#39;&#39;&quot;</span>&gt;$(<span class="keyword">LIBCURL_VERSION</span>)&lt;/<span class="keywordtype">CurlVersion</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">CurlVersion</span> <span class="keyword">Condition</span>=<span class="stringliteral">&quot;&#39;$(LIBCURL_DIR)&#39;==&#39;&#39;&quot;</span>&gt;7.75.0&lt;/<span class="keywordtype">CurlVersion</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">curl</span> <span class="keyword">Condition</span>=<span class="stringliteral">&quot;&#39;$(LIBCURL_DIR)&#39;!=&#39;&#39;&quot;</span>&gt;$(<span class="keyword">LIBCURL_DIR</span>)&lt;/<span class="keywordtype">curl</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">curl</span> <span class="keyword">Condition</span>=<span class="stringliteral">&quot;&#39;$(LIBCURL_DIR)&#39;==&#39;&#39;&quot;</span>&gt;<span class="keyword">curl-</span>$(<span class="keyword">CurlVersion</span>)&lt;/<span class="keywordtype">curl</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">CurlFileVersion</span>&gt;$(<span class="keyword">LIBCURL_FILE_VERSION</span>)&lt;/<span class="keywordtype">CurlFileVersion</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">LibCurlGuid32</span>&gt;{<span class="keyword">C5DA388E-C39C-4164-98EF-CB5660F9ABB4</span>}&lt;/<span class="keywordtype">LibCurlGuid32</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">LibCurlGuid64</span>&gt;{38<span class="keyword">B92986-C5BA-4CB1-BFFD-E031FF22BE4C</span>}&lt;/<span class="keywordtype">LibCurlGuid64</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">LibCurlGuid32d</span>&gt;{42951<span class="keyword">E00-7863-41B6-A770-BB3711588BDD</span>}&lt;/<span class="keywordtype">LibCurlGuid32d</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">LibCurlGuid64d</span>&gt;{8<span class="keyword">C610CA1-DDA8-45AA-A9C4-914420824D84</span>}&lt;/<span class="keywordtype">LibCurlGuid64d</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">PropertyGroup</span>&gt;</div>
</div><!-- fragment --><p>OpenSSL (1.1.1i to 1.1.1j):</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">PropertyGroup</span> <span class="keyword">Label</span>=<span class="stringliteral">&quot;OpenSSLGeneral&quot;</span>&gt;</div>
<div class="line">  <span class="comment">&lt;!-- Just for now --&gt;</span></div>
<div class="line">  &lt;<span class="keywordtype">OPENSSL_FILE_VERSION</span> <span class="keyword">Condition</span>=<span class="stringliteral">&quot;&#39;$(OPENSSL_FILE_VERSION)&#39; == &#39;&#39;&quot;</span>&gt;1<span class="keyword">_1_1_10</span>&lt;/<span class="keywordtype">OPENSSL_FILE_VERSION</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">openssl</span> <span class="keyword">Condition</span>=<span class="stringliteral">&quot;&#39;$(OPENSSL_DIR)&#39;==&#39;&#39;&quot;</span>&gt;<span class="keyword">openssl-1.1.1j</span>&lt;/<span class="keywordtype">openssl</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">openssl</span> <span class="keyword">Condition</span>=<span class="stringliteral">&quot;&#39;$(OPENSSL_DIR)&#39;!=&#39;&#39;&quot;</span>&gt;$(<span class="keyword">OPENSSL_DIR</span>)&lt;/<span class="keywordtype">openssl</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">PropertyGroup</span>&gt;</div>
<div class="line"> </div>
<div class="line">&lt;<span class="keywordtype">PropertyGroup</span> <span class="keyword">Label</span>=<span class="stringliteral">&quot;OpenSSLGuidsBad&quot;</span> <span class="keyword">Condition</span>=<span class="stringliteral">&quot;&#39;$(OPENSSL_FILE_VERSION)&#39; != &#39;1_1_1_10&#39;&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">OpenSSLFileVersion</span>&gt;<span class="keyword">BAD_OPENSSL_FILE_VERSION</span>&lt;/<span class="keywordtype">OpenSSLFileVersion</span>&gt;</div>
<div class="line">  <span class="comment">&lt;!-- Changing OPENSSL_FILE_VERSION version requires changing the GUIDs since it is garnish on the name --&gt;</span></div>
<div class="line">&lt;/<span class="keywordtype">PropertyGroup</span>&gt;</div>
<div class="line">&lt;<span class="keywordtype">PropertyGroup</span> <span class="keyword">Label</span>=<span class="stringliteral">&quot;OpenSSLGuids&quot;</span> <span class="keyword">Condition</span>=<span class="stringliteral">&quot;&#39;$(OPENSSL_FILE_VERSION)&#39; == &#39;1_1_1_10&#39;&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">OpenSSLFileVersion</span>&gt;$(<span class="keyword">OPENSSL_FILE_VERSION</span>)&lt;/<span class="keywordtype">OpenSSLFileVersion</span>&gt;</div>
<div class="line">  <span class="comment">&lt;!-- Change the 8 components below iff OpenSSLFileVersion changes --&gt;</span></div>
<div class="line">  &lt;<span class="keywordtype">LibEay32Component</span>&gt;{<span class="keyword">E5CDA78B-1024-4DF7-9F11-8532B6F55E21</span>}&lt;/<span class="keywordtype">LibEay32Component</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">SSlEay32Component</span>&gt;{6<span class="keyword">AD1215B-E983-4823-A363-6127420408E4</span>}&lt;/<span class="keywordtype">SSlEay32Component</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">LibEay32Componentd</span>&gt;{<span class="keyword">E3B837AE-B103-45F7-AC98-72BE66B76746</span>}&lt;/<span class="keywordtype">LibEay32Componentd</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">SSlEay32Componentd</span>&gt;{<span class="keyword">C7454E2E-DAEA-487B-AB1C-9339E5E390C0</span>}&lt;/<span class="keywordtype">SSlEay32Componentd</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">LibEay64Component</span>&gt;{6<span class="keyword">E57A83F-E67E-4E8D-B24B-ACDDFC7FDA5E</span>}&lt;/<span class="keywordtype">LibEay64Component</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">SSlEay64Component</span>&gt;{73702736-2<span class="keyword">A6F-43DC-BB08-663641C1798C</span>}&lt;/<span class="keywordtype">SSlEay64Component</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">LibEay64Componentd</span>&gt;{<span class="keyword">DBA7EF27-C817-43EC-B2E6-A4E945355F0A</span>}&lt;/<span class="keywordtype">LibEay64Componentd</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">SSlEay64Componentd</span>&gt;{96350<span class="keyword">A7E-15DA-4CF4-B90D-F3E670AF9D36</span>}&lt;/<span class="keywordtype">SSlEay64Componentd</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">PropertyGroup</span>&gt;</div>
</div><!-- fragment --><p>Fixing up log4shib path:</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">PropertyGroup</span> <span class="keyword">Label</span>=<span class="stringliteral">&quot;Log4ShibGeneral&quot;</span>&gt;</div>
<div class="line">  <span class="comment">&lt;!-- Just for now --&gt;</span></div>
<div class="line">  &lt;<span class="keywordtype">LOG4SHIB_FILE_VERSION</span> <span class="keyword">Condition</span>=<span class="stringliteral">&quot;&#39;$(LOG4SHIB_FILE_VERSION)&#39; == &#39;&#39;&quot;</span>&gt;2<span class="keyword">_0</span>&lt;/<span class="keywordtype">LOG4SHIB_FILE_VERSION</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Log4ShibVersion</span> <span class="keyword">Condition</span>=<span class="stringliteral">&quot;&#39;$(LOG4SHIB_MM_VERSION)&#39; == &#39;&#39;&quot;</span>&gt;2.0.0&lt;/<span class="keywordtype">Log4ShibVersion</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Log4ShibVersion</span> <span class="keyword">Condition</span>=<span class="stringliteral">&quot;&#39;$(LOG4SHIB_MM_VERSION)&#39; != &#39;&#39;&quot;</span>&gt;$(<span class="keyword">LOG4SHIB_MM_VERSION</span>)&lt;/<span class="keywordtype">Log4ShibVersion</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">PropertyGroup</span>&gt;</div>
<div class="line"> </div>
<div class="line">&lt;<span class="keywordtype">PropertyGroup</span> <span class="keyword">Label</span>=<span class="stringliteral">&quot;Log4ShibGuidsBad&quot;</span> <span class="keyword">Condition</span>=<span class="stringliteral">&quot;&#39;$(LOG4SHIB_FILE_VERSION)&#39; != &#39;2_0&#39;&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Log4ShibFileVersion</span>&gt;<span class="keyword">BAD_LOG4SHIB_FILE_VERSION</span>&lt;/<span class="keywordtype">Log4ShibFileVersion</span>&gt;</div>
<div class="line">  <span class="comment">&lt;!-- Changing LOG4SHIB_FILE_VERSION version requires changing the GUIDs since it is garnish on the name --&gt;</span></div>
<div class="line">&lt;/<span class="keywordtype">PropertyGroup</span>&gt;</div>
<div class="line">&lt;<span class="keywordtype">PropertyGroup</span> <span class="keyword">Label</span>=<span class="stringliteral">&quot;Log4ShibGuids&quot;</span> <span class="keyword">Condition</span>=<span class="stringliteral">&quot;&#39;$(LOG4SHIB_FILE_VERSION)&#39; == &#39;2_0&#39;&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Log4ShibFileVersion</span>&gt;$(<span class="keyword">LOG4SHIB_FILE_VERSION</span>)&lt;/<span class="keywordtype">Log4ShibFileVersion</span>&gt;</div>
<div class="line">  <span class="comment">&lt;!-- Change the 4 components below if the Log4ShibFileVersion name changes --&gt;</span></div>
<div class="line">  &lt;<span class="keywordtype">Log4ShibComponent32</span>&gt;{4<span class="keyword">A96D4F3-51DD-4FBD-9478-8EC2197FAF70</span>}&lt;/<span class="keywordtype">Log4ShibComponent32</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Log4ShibComponent32d</span>&gt;{08<span class="keyword">A406FB-D426-40A6-B5C1-9FFBC9A085B2</span>}&lt;/<span class="keywordtype">Log4ShibComponent32d</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Log4ShibComponent64</span>&gt;{<span class="keyword">AED2A19A-D47E-41B4-A4FB-5F23601F989D</span>}&lt;/<span class="keywordtype">Log4ShibComponent64</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Log4ShibComponent64d</span>&gt;{<span class="keyword">A30DBD49-6717-44CB-9A38-349D4F8DF149</span>}&lt;/<span class="keywordtype">Log4ShibComponent64d</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">log4shib</span>&gt;<span class="keyword">cpp-log4shib</span>&lt;/<span class="keywordtype">log4shib</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">PropertyGroup</span>&gt;</div>
</div><!-- fragment --><p>Other versions seem fine...</p>
<p>Using <code>boost_1_74_0</code>: Download zipfile and unpack it in the <code>ROOT_DIR</code>. Header only is fine?</p>
<p>Need to retarget xmltooling and opensaml!</p>
<p>Add env variable <code>DEBUG_INSTALLER</code>, set it to <code>YES</code></p>
<div class="fragment"><div class="line">nmake /f build.make saml64</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md32"></a>
Collecting all headers and libraries</h2>
<p>This is how I went about adding all libraries and headers to an install dir. Some parts I did in <code>git bash</code> because I'm not very familiar with <code>cmd.exe</code>. This may not be necessary if you go through the painstaking process of setting all of the correct include and lib directories when configuring <a class="el" href="classWt.html">Wt</a>.</p>
<div class="fragment"><div class="line">mkdir install-dir</div>
<div class="line">mkdir install-dir\lib</div>
<div class="line">mkdir install-dir\bin</div>
<div class="line">mkdir install-dir\include</div>
<div class="line">copy %ROOT_DIR%\cpp-opensaml\Build\VC15\x64\Debug\*.lib  %ROOT_DIR%\install-dir\lib\</div>
<div class="line">copy %ROOT_DIR%\cpp-opensaml\Build\VC15\x64\Debug\*.dll  %ROOT_DIR%\install-dir\bin\</div>
<div class="line">copy %ROOT_DIR%\cpp-opensaml\Build\VC15\x64\Release\*.lib  %ROOT_DIR%\install-dir\lib\</div>
<div class="line">copy %ROOT_DIR%\cpp-opensaml\Build\VC15\x64\Release\*.dll  %ROOT_DIR%\install-dir\bin\</div>
</div><!-- fragment --><div class="fragment"><div class="line">cd cpp-opensaml/saml</div>
<div class="line">for f in $(find . -name &#39;*.h&#39;); do dir=$(dirname $f); mkdir -p ../../install-dir/include/saml/$dir; cp $f ../../install-dir/include/saml/$dir/; done</div>
<div class="line">cd ../..</div>
</div><!-- fragment --><div class="fragment"><div class="line">copy %ROOT_DIR%\cpp-xmltooling\Build\VC15\x64\Debug\*.lib  %ROOT_DIR%\install-dir\lib\</div>
<div class="line">copy %ROOT_DIR%\cpp-xmltooling\Build\VC15\x64\Debug\*.dll  %ROOT_DIR%\install-dir\bin\</div>
<div class="line">copy %ROOT_DIR%\cpp-xmltooling\Build\VC15\x64\Release\*.lib  %ROOT_DIR%\install-dir\lib\</div>
<div class="line">copy %ROOT_DIR%\cpp-xmltooling\Build\VC15\x64\Release\*.dll  %ROOT_DIR%\install-dir\bin\</div>
</div><!-- fragment --><div class="fragment"><div class="line">cd cpp-xmltooling/xmltooling</div>
<div class="line">for f in $(find . -name &#39;*.h&#39;); do dir=$(dirname $f); mkdir -p ../../install-dir/include/xmltooling/$dir; cp $f ../../install-dir/include/xmltooling/$dir/; done</div>
<div class="line">cd ../..</div>
</div><!-- fragment --><div class="fragment"><div class="line">copy %ROOT_DIR%\cpp-log4shib\msvc15\x64\Debug\*.lib  %ROOT_DIR%\install-dir\lib\</div>
<div class="line">copy %ROOT_DIR%\cpp-log4shib\msvc15\x64\Debug\*.dll  %ROOT_DIR%\install-dir\bin\</div>
<div class="line">copy %ROOT_DIR%\cpp-log4shib\msvc15\x64\Release\*.lib  %ROOT_DIR%\install-dir\lib\</div>
<div class="line">copy %ROOT_DIR%\cpp-log4shib\msvc15\x64\Release\*.dll  %ROOT_DIR%\install-dir\bin\</div>
</div><!-- fragment --><div class="fragment"><div class="line">cd cpp-log4shib/include</div>
<div class="line">cp -r log4shib ../../install-dir/include</div>
<div class="line">cd ../..</div>
</div><!-- fragment --><div class="fragment"><div class="line">copy %ROOT_DIR%\xml-security-c-2.0.2\Build\x64\VC15\&quot;Debug Minimal&quot;\*.lib %ROOT_DIR%\install-dir\lib</div>
<div class="line">copy %ROOT_DIR%\xml-security-c-2.0.2\Build\x64\VC15\&quot;Debug Minimal&quot;\*.dll %ROOT_DIR%\install-dir\bin</div>
<div class="line">copy %ROOT_DIR%\xml-security-c-2.0.2\Build\x64\VC15\&quot;Release Minimal&quot;\*.lib %ROOT_DIR%\install-dir\lib</div>
<div class="line">copy %ROOT_DIR%\xml-security-c-2.0.2\Build\x64\VC15\&quot;Release Minimal&quot;\*.dll %ROOT_DIR%\install-dir\bin</div>
</div><!-- fragment --><div class="fragment"><div class="line">cd xml-security-c-2.0.2/xsec</div>
<div class="line">for f in $(find . -name &#39;*.h&#39; -or -name &#39;*.hpp&#39;); do dir=$(dirname $f); mkdir -p ../../install-dir/include/xsec/$dir; cp $f ../../install-dir/include/xsec/$dir/; done</div>
<div class="line">cd ../..</div>
</div><!-- fragment --><div class="fragment"><div class="line">copy %ROOT_DIR%\xerces-c-3.2.3\Install64\VC15\lib\*.lib %ROOT_DIR%\install-dir\lib</div>
<div class="line">copy %ROOT_DIR%\xerces-c-3.2.3\Install64\VC15\bin\*.dll %ROOT_DIR%\install-dir\bin</div>
</div><!-- fragment --><div class="fragment"><div class="line">cp -r xerces-c-3.2.3/Install64/VC15/include/xercesc install-dir/include/</div>
<div class="line">cp -r xerces-c-3.2.3/Install64/VC15/cmake install-dir/lib/</div>
</div><!-- fragment --><div class="fragment"><div class="line">copy %ROOT_DIR%\zlib-1.2.11\*.lib %ROOT_DIR%\install-dir\lib</div>
<div class="line">copy %ROOT_DIR%\zlib-1.2.11\*.dll %ROOT_DIR%\install-dir\bin</div>
<div class="line">copy %ROOT_DIR%\zlib-1.2.11\*.h %ROOT_DIR%\install-dir\include</div>
</div><!-- fragment --><div class="fragment"><div class="line">copy %ROOT_DIR%\curl-7.75.0\builds\libcurl-vc15-x64-debug-dll-ssl-dll-zlib-dll-ipv6-sspi\lib\*.lib %ROOT_DIR%\install-dir\lib</div>
<div class="line">copy %ROOT_DIR%\curl-7.75.0\builds\libcurl-vc15-x64-debug-dll-ssl-dll-zlib-dll-ipv6-sspi\bin\*.dll %ROOT_DIR%\install-dir\bin</div>
<div class="line">copy %ROOT_DIR%\curl-7.75.0\builds\libcurl-vc15-x64-release-dll-ssl-dll-zlib-dll-ipv6-sspi\lib\*.lib %ROOT_DIR%\install-dir\lib</div>
<div class="line">copy %ROOT_DIR%\curl-7.75.0\builds\libcurl-vc15-x64-release-dll-ssl-dll-zlib-dll-ipv6-sspi\bin\*.dll %ROOT_DIR%\install-dir\bin</div>
</div><!-- fragment --><div class="fragment"><div class="line">copy %ROOT_DIR%\openssl-1.1.1j\*.lib %ROOT_DIR%\install-dir\lib</div>
<div class="line">copy %ROOT_DIR%\openssl-1.1.1j\*.dll %ROOT_DIR%\install-dir\bin</div>
<div class="line">copy %ROOT_DIR%\openssl-1.1.1j\x64Debug\bin\*.dll %ROOT_DIR%\install-dir\bin</div>
</div><!-- fragment --><div class="fragment"><div class="line">cp -r openssl-1.1.1j/include/* install-dir/include/</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md33"></a>
Configuring Wt</h1>
<p>You need to set <code>ENABLE_SAML</code> to <code>ON</code> when configuring <a class="el" href="classWt.html">Wt</a>. You can use <code>SAML_ROOT</code> to set the SAML prefix:</p>
<div class="fragment"><div class="line">cmake path\to\sources -DENABLE_SAML=ON -DSAML_ROOT=path\to\saml\prefix</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
