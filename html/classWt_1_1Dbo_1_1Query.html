<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Boogle Home: Wt::Dbo::Query Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Boogle Home
   &#160;<span id="projectnumber">VirtualAssistant</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceWt.html">Wt</a></li><li class="navelem"><a class="el" href="namespaceWt_1_1Dbo.html">Dbo</a></li><li class="navelem"><a class="el" href="classWt_1_1Dbo_1_1Query.html">Query</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Wt::Dbo::Query Class Reference<div class="ingroups"><a class="el" href="group__dbo.html">Database Objects (Wt::Dbo)</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A database query.  
 <a href="classWt_1_1Dbo_1_1Query.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Query_8h_source.html">Wt/Dbo/Query.h</a>&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A database query. </p>
<p>The query fetches results of type <code>Result</code> from the database. This can be any type for which <a class="el" href="structWt_1_1Dbo_1_1query__result__traits.html" title="Traits class for result types.">query_result_traits</a> are properly implemented. The library provides these implementations for primitive values (see <a class="el" href="structWt_1_1Dbo_1_1sql__value__traits.html" title="Traits class for value types.">sql_value_traits</a>), database objects (ptr) and <code>std::tuple</code>.</p>
<p>Simple queries can be done using Session::find(), while more elaborate queries (with arbitrary result types) using Session::query().</p>
<p>You may insert positional holders anywhere in the query for parameters using '?', and bind these to actual values using bind().</p>
<p>The query result may be fetched using resultValue() or resultList().</p>
<p>Usage example: </p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <a class="code" href="classWt_1_1Dbo_1_1ptr.html">Wt::Dbo::ptr&lt;Account&gt;</a> AccountPtr;</div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="classWt_1_1Dbo_1_1collection.html">Wt::Dbo::collection&lt;AccountPtr&gt;</a> Accounts;</div>
<div class="line"> </div>
<div class="line"><a class="code" href="classWt_1_1Dbo_1_1Query.html">Wt::Dbo::Query&lt;AccountPtr&gt;</a> <a class="code" href="namespaceGetRequest.html#afcf3b12fe772b330baf0e4be878ea394">query</a> = session.find&lt;Account&gt;().where(<span class="stringliteral">&quot;balance &gt; ?&quot;</span>).bind(100000);</div>
<div class="line">Accounts accounts = <a class="code" href="namespaceGetRequest.html#afcf3b12fe772b330baf0e4be878ea394">query</a>.resultList();</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span> (Accounts::const_iterator i = accounts.begin(); i != accounts.end(); ++i)</div>
<div class="line">  std::cerr &lt;&lt; <span class="stringliteral">&quot;Name: &quot;</span> &lt;&lt; (*i)-&gt;name &lt;&lt; std::end;</div>
</div><!-- fragment --><p>The <code>BindStrategy</code> specifies how you want to bind parameters to your query (if any).</p>
<p>When using <a class="el" href="structWt_1_1Dbo_1_1DynamicBinding.html">DynamicBinding</a> (which is the default), parameter binding to an actual sql statement is deferred until the query is run. This has the advantage that you can compose the query definition using helper methods provided in the query object (where(), orWhere(), groupBy(), having() and orderBy()), possibly intermixing this with parameter binding, and you can keep the query around and run the query multiple times, perhaps with different parameter values or to scroll through the query results. The where(), orWhere(), groupBy(), having(), and orderBy() are merely convenience methods which you may use to compose the querys incrementally, but you may just as well specify the entire SQL as a single string.</p>
<p>When using <a class="el" href="structWt_1_1Dbo_1_1DirectBinding.html">DirectBinding</a>, parameters are directly bound to an underlying sql statement. Therefore, the query must be specified entirely when created. Because of this reliance on an sql statement, it can be run only once (one call to resultValue() or resultList()) after which it should be discarded. You should not try to keep a query object around when using this parameter binding strategy (that will amost always not do what you would hope it to do). </p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>wt-4.8.2/src/Wt/Dbo/<a class="el" href="collection_8h_source.html">collection.h</a></li>
</ul>
</div><!-- contents -->
<div class="ttc" id="aclassWt_1_1Dbo_1_1ptr_html"><div class="ttname"><a href="classWt_1_1Dbo_1_1ptr.html">Wt::Dbo::ptr</a></div><div class="ttdoc">A smart pointer for a database object.</div><div class="ttdef"><b>Definition:</b> ptr.h:398</div></div>
<div class="ttc" id="anamespaceGetRequest_html_afcf3b12fe772b330baf0e4be878ea394"><div class="ttname"><a href="namespaceGetRequest.html#afcf3b12fe772b330baf0e4be878ea394">GetRequest::query</a></div><div class="ttdeci">std::stringstream query(Request *request)</div><div class="ttdoc">Query API endpoint and return response.</div><div class="ttdef"><b>Definition:</b> GetRequest.cpp:11</div></div>
<div class="ttc" id="aclassWt_1_1Dbo_1_1collection_html"><div class="ttname"><a href="classWt_1_1Dbo_1_1collection.html">Wt::Dbo::collection</a></div><div class="ttdoc">An STL container for iterating query results.</div><div class="ttdef"><b>Definition:</b> collection.h:102</div></div>
<div class="ttc" id="aclassWt_1_1Dbo_1_1Query_html"><div class="ttname"><a href="classWt_1_1Dbo_1_1Query.html">Wt::Dbo::Query</a></div><div class="ttdoc">A database query.</div><div class="ttdef"><b>Definition:</b> collection.h:21</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
